(()=>{class e{constructor(e,t,n,o){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.isComplete=!1}}class t{constructor(e,t){this.groupName=e,this.groupDescription=t,this.groupList=[]}}function n(t,n,o,d,i){const s=new e(n,o,d,i);t.groupList.push(s)}let o=[];function d(){localStorage.setItem("todoListMain",JSON.stringify(o))}!function(){if(null===localStorage.getItem("todoListMain")){let e=new t("default","this is the default group");n(e,"Welcome!","Hello there!","some date1","high"),n(e,"Welcome!","Hello there, too!","some date1","high"),o=[e],console.log("No localStorage file found. Placed defaults.")}else o=JSON.parse(localStorage.todoListMain),console.log("Loaded localStorage.")}();const i=document.getElementById("todo-group"),s=document.getElementById("todo-list");o.forEach((e=>{i.appendChild(function(e){const t=document.createElement("div");return t.classList.add("group-item"),t.append(Object.assign(document.createElement("p"),{classList:"",innerText:e.groupName})),t.addEventListener("click",(()=>{!function(e){const t=document.getElementById("todo-header");t.innerText="",t.append(Object.assign(document.createElement("h2"),{classList:"",innerText:e.groupName})),t.append(Object.assign(document.createElement("h2"),{classList:"",innerText:e.groupDescription}))}(e),document.getElementById("todo-list").innerText="",e.groupList.forEach((t=>{s.appendChild(function(e,t){const n=document.createElement("div");n.classList.add("todo-item"),n.append(Object.assign(document.createElement("p"),{classList:"",innerText:t.title})),n.append(Object.assign(document.createElement("p"),{classList:"",innerText:t.description})),n.append(Object.assign(document.createElement("p"),{classList:"",innerText:t.dueDate})),n.append(Object.assign(document.createElement("p"),{classList:"",innerText:t.priority})),n.append(Object.assign(document.createElement("p"),{classList:"",innerText:t.isComplete}));const o=document.createElement("button");return o.setAttribute("class","delete-btn"),o.addEventListener("click",(n=>{!function(e,t,n){const o=e.groupList.findIndex((e=>e.title===t&&e.description==n));-1!=o&&e.groupList.splice(o,1)}(e,t.title,t.description),d()})),n.appendChild(o),n}(e,t))}))})),t}(e))})),document.getElementById("add-todo-btn").addEventListener("click",(e=>{})),document.getElementById("add-todo-confirm").addEventListener("click",(e=>{const t=document.getElementById("add-todo-title").value,i=document.getElementById("add-todo-desc").value,s=document.getElementById("add-todo-date").value,c=document.getElementById("add-todo-priority").value;n(o[o.findIndex((e=>e.groupName===document.getElementById("add-todo-group").value))],t,i,s,c),d()})),document.getElementById("add-group-confirm").addEventListener("click",(e=>{const n=document.getElementById("add-group-title").value,i=document.getElementById("add-group-desc").value;o.push(new t(n,i)),d(),console.log(1)}))})();